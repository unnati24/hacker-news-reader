(this["webpackJsonphacker-news"]=this["webpackJsonphacker-news"]||[]).push([[0],{55:function(e,t,n){e.exports=n(83)},60:function(e,t,n){},61:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),o=n.n(c),s=(n(60),n(61),n(21)),l=n(106),i=n(113),u=n(25),f=n.n(u),m=n(32),d=n(33),p=n.n(d),v=function(e,t){localStorage.setItem(e,JSON.stringify(t))},b=function(e){return JSON.parse(localStorage.getItem(e))},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.title,a=e.url,r=e.score,c=e.descendants,o=e.by,s=e.time;return{id:t,title:n,url:a,score:r,descendants:c,by:o,time:s}},g="https://hacker-news.firebaseio.com/v0/",E="".concat(g,"newstories.json"),x="".concat(g,"topstories.json"),w="".concat(g,"beststories.json"),S="".concat(g,"item/"),y=function(){var e=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat(S+t,".json")).then((function(e){var t=e.data;return t&&h(t)}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="new"===t?E:"top"===t?x:"best"===t?w:E,e.next=3,p.a.get(n).then((function(e){var t=e.data;v("data",t);var n=[];return t.map((function(e){return y(e).then((function(e){return e&&n.push(e)&&v("stories",n)}))})),b("stories")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=n(108),N=Object(l.a)((function(e){return{root:{padding:"15px",margin:"8px",background:"#31353b",borderRadius:"10px"},links:{color:"#b9e3c6",fontSize:"25px",fontFamily:"Acme, sans-serif",fontStyle:"italic",cursor:"pointer"},content:{color:"#acdbdf",letterSpacing:"2px",display:"flex",justifyContent:"space-between",fontFamily:"Acme, sans-serif",fontSize:"16px"}}})),k=function(e){var t=e.story,n=N();return r.a.createElement("div",{className:n.root},r.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"}},r.a.createElement(j.a,{variant:"h4",className:n.links,gutterBottom:!0},t.title)),r.a.createElement("div",{className:n.content},r.a.createElement("p",null,"Author: ",r.a.createElement("span",null,t.by)),r.a.createElement("p",null,"Posted: ",r.a.createElement("span",null,function(e){var t=Math.floor((new Date-1e3*e)/1e3),n=Math.floor(t/31536e3);return n>1?"".concat(n," years"):(n=Math.floor(t/2592e3))>1?"".concat(n," months"):(n=Math.floor(t/86400))>1?"".concat(n," days"):(n=Math.floor(t/3600))>1?"".concat(n," hours"):(n=Math.floor(t/60))>1?"".concat(n," minutes"):"".concat(Math.floor(t)," seconds")}(t.time)))),r.a.createElement("div",{className:n.content},r.a.createElement("p",null,"Score: ",r.a.createElement("span",null,t.score)),r.a.createElement("p",null,"Total comments: ",r.a.createElement("span",null,t.descendants))))},C=function(e){var t=e.value,n=e.sortOrder,c=e.active,o=Object(a.useState)([]),l=Object(s.a)(o,2),i=l[0],u=l[1];return Object(a.useEffect)((function(){O(c).then((function(){return u(b("stories"))})).catch((function(e){return alert("Something went wrong! Try refreshing your page")}))}),[c]),Object(a.useEffect)((function(){if(t){var e=b("stories").filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())}));u(e)}}),[t]),Object(a.useEffect)((function(){if(n.length>0){var e=b("stories");"ASC"===n?e.sort((function(e,t){return e.score&&t.score&&e.score-t.score})):e.sort((function(e,t){return e.score&&t.score&&t.score-e.score})),u(e)}}),[n]),i.map((function(e){return e&&e.url?r.a.createElement(k,{story:e,key:e.id}):null}))},A=n(114),D=n(112),M=n(115),T=n(110),z=function(e){var t=e.heading,n=e.button,a=e.flexDiv,c=e.setSortOrder;return r.a.createElement("div",{className:a},r.a.createElement(j.a,{variant:"h6",className:t},"Sort by score"),r.a.createElement(T.a,{variant:"contained",color:"secondary",className:n,onClick:function(e){return c(e.target.innerText)}},"ASC"),r.a.createElement(T.a,{variant:"contained",color:"primary",className:n,onClick:function(e){return c(e.target.innerText)}},"DESC"))},I=n(117),J=n(111),B=Object(l.a)((function(){return{root:{marginTop:"20px",color:"white",background:"#b5e0ba"},button:{fontWeight:"700",fontSize:"15px",padding:"10px 60px",margin:"5px"}}})),F=function(e){var t=e.flexDiv,n=e.active,a=e.setActive,c=B();return r.a.createElement("div",{className:t},r.a.createElement(I.a,{orientation:"vertical",value:n,exclusive:!0,size:"small",className:c.root,onChange:function(e,t){a(t)},"aria-label":"text alignment"},r.a.createElement(J.a,{className:c.button,value:"new","aria-label":"left aligned"},"New Stories"),r.a.createElement(J.a,{className:c.button,value:"top","aria-label":"centered"},"Top Stories"),r.a.createElement(J.a,{className:c.button,value:"best","aria-label":"centered"},"Best Stories")))},P=Object(l.a)((function(e){return{heading:{color:"#b9e3c6",fontFamily:"Acme, sans-serif",padding:"30px 0px"},search:{backgroundColor:"#f1f2eb",width:"250px",margin:"30px",borderRadius:"6px",padding:"5px",border:"none"},drawer:{width:300,flexShrink:0},drawerPaper:{width:300,backgroundColor:"#272932"},button:{background:"none",border:"none",cursor:"pointer",width:"60px",height:"35px"},flexDiv:{display:"flex",justifyContent:"space-evenly",alignItems:"center"}}})),H=function(e){var t=e.setValue,n=e.setSortOrder,a=e.active,c=e.setActive,o=P();return r.a.createElement(A.a,{className:o.drawer,variant:"permanent",classes:{paper:o.drawerPaper},anchor:"left"},r.a.createElement(j.a,{variant:"h3",className:o.heading,align:"center"},"Hacker News"),r.a.createElement(D.a,null),r.a.createElement(M.a,{placeholder:"Search",margin:"dense",className:o.search,onChange:function(e){return t(e.target.value)}}),r.a.createElement(D.a,null),r.a.createElement(z,{flexDiv:o.flexDiv,heading:o.heading,button:o.button,setSortOrder:n}),r.a.createElement(D.a,null),r.a.createElement(F,{flexDiv:o.flexDiv,active:a,setActive:c}))},L=Object(l.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,backgroundColor:"#393e46",padding:e.spacing(3),minHeight:"680px"}}}));var R=function(){var e=L(),t=Object(a.useState)(null),n=Object(s.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)(""),u=Object(s.a)(l,2),f=u[0],m=u[1],d=Object(a.useState)("best"),p=Object(s.a)(d,2),v=p[0],b=p[1];return r.a.createElement("div",{className:e.root},r.a.createElement(i.a,null),r.a.createElement(H,{setValue:o,setSortOrder:m,active:v,setActive:b}),r.a.createElement("main",{className:e.content},r.a.createElement(C,{value:c,sortOrder:f,active:v})))};var V=function(){return r.a.createElement(R,null)};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(V,null)),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.8accb13b.chunk.js.map